<html>
   <head>
      <title>{{ appname }}</title>
      {% load static %}
      <link rel="stylesheet" href="{% static 'Home/index.css' %}">
      <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/css/materialize.min.css">
      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
   </head>
   <body>
      <nav class="nav-extended pink darken-3">
         <div class="nav-wrapper">
            <a href="{{ homelink }}" class="brand-logo nav_title">{{ appname }}</a>
         </div>
      </nav>
      <div class='container'>
         <div class="row">
            <div class="col s6">
               <div class="card white large">
                  <div class="card-image">
                     <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Ic_directions_car_48px.svg/72px-Ic_directions_car_48px.svg.png">
                  </div>
                  <div class="card-content">
                     <span class="card-title">{{fullname}}</span>
                  </div>
               </div>
            </div>
            <div class="col s6">
               <div class="card white large">
                  <div class="card-content">
                     <span class="card-title">Locations</span>
                     <div class="divider"></div>
                     <div class="row"></div>
                     <!-- just using some rows to make spacing look nicer -->
                     {% if locations %}
                     {% for location in locations %}
                     <div class="row">
                        <div class='col s6'>{{ location.address }}</div>
                        <div class='col s6'>${{ location.phone }}</div>
                     </div>
                     {% endfor %}
                     {% else %}
                     <div class="row">
                        <div class='col s12'>Currently Unavailable</div>
                     </div>
                     {% endif %}
                     <div class="row"></div>
                     <span class="card-title">Pricing</span>
                     <div class="divider"></div>
                     <div class="row"></div>
                     <div class="row">
                        {% if viewtype == "personal" %}
                        <table>
                            <tbody>
                                {% for price in pricelist %}
                                    <tr>
                                        <td>{{ price.period }}</td>
                                        <td>${{ price.cost }}</td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                        {% elif viewtype == "commercial" %}
                            <script type="text/javascript">
                                function get_quote(){
                                    let multiplier = {{ pricemultiplier }};
                                    let days = document.getElementById("rental_days").value;
                                    let quantity = document.getElementById("rental_quantity").value;
                                    let output = document.getElementById("quote_result");
                                    output.innerHTML = "$" + Math.round(days * quantity * multiplier);
                                }
                            </script>
                                    <div class="row">
                                        <div class="center-align col s12"><a class="waves-effect waves-light btn" onclick="get_quote()">Get Quote</a></div>
                                    </div>
                                    <div class="row">
                                        <div class="center-align col s12">
                                            <h6 id="quote_result"> Pick a time and quantity </h6>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col s12">
                                            <input id="rental_days" type="number" name="rental_days" min="1" value="1">
                                            <label for="rental_days">Days</label>
                                            <input id="rental_quantity" type="number" name="rental_quantity" min="1" value="1">
                                            <label for="rental_quantity">Quantity</label>
                                        </div>
                                    </div>
                                   
                                </div>
                        {% endif %}
                     </div>
                  </div>
               </div>
            </div>
            <div class="col s12">
               <div class="card white">
                  <div class="card-content">
                     <span class="card-title">Details</span>
                     <table>
                         <tbody>
                         {% if details %}
                            {% for name, value in details.items %}
                                <tr>
                                    <td><b>{{ name }}</b></td>
                                    <td>{{ value }}</td>
                                </tr>
                            {% endfor %}
                         {% endif %}
                        </tbody>
                     </table>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>